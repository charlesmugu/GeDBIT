<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_10-rc2) on Sun Feb 06 19:21:31 CST 2011 -->
<TITLE>
AbstractStore
</TITLE>

<META NAME="date" CONTENT="2011-02-06">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="AbstractStore";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="跳过导航链接"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>概述</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>软件包</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>类</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/AbstractStore.html"><FONT CLASS="NavBarFont1"><B>使用</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>树</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>已过时</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>索引</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>帮助</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;上一个类&nbsp;
&nbsp;<A HREF="../../../mobios/mckoi/store/Area.html" title="mobios.mckoi.store 中的接口"><B>下一个类</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?mobios/mckoi/store/AbstractStore.html" target="_top"><B>框架</B></A>  &nbsp;
&nbsp;<A HREF="AbstractStore.html" target="_top"><B>无框架</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>所有类</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>所有类</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  摘要：&nbsp;嵌套&nbsp;|&nbsp;字段&nbsp;|&nbsp;构造方法&nbsp;|&nbsp;<A HREF="#method_summary">方法</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
详细信息：&nbsp;字段&nbsp;|&nbsp;构造方法&nbsp;|&nbsp;<A HREF="#method_detail">方法</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
mobios.mckoi.store</FONT>
<BR>
类 AbstractStore</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="继承者 "><B>mobios.mckoi.store.AbstractStore</B>
</PRE>
<DL>
<DT><B>所有已实现的接口：</B> <DD><A HREF="../../../mobios/mckoi/store/Store.html" title="mobios.mckoi.store 中的接口">Store</A></DD>
</DL>
<DL>
<DT><B>直接已知子类：</B> <DD><A HREF="../../../mobios/mckoi/store/ScatteringFileStore.html" title="mobios.mckoi.store 中的类">ScatteringFileStore</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public abstract class <B>AbstractStore</B><DT>extends java.lang.Object<DT>implements <A HREF="../../../mobios/mckoi/store/Store.html" title="mobios.mckoi.store 中的接口">Store</A></DL>
</PRE>

<P>
Provides an abstract implementation of Store.  This implements a bin based
 best-fit recycling algorithm.  The store manages a structure that points to
 bins of freed space of specific sizes.  When an allocation is requested the
 structure is searched for the first bin that contains an area that best fits
 the size requested.
 <p>
 Provided the derived class supports safe atomic IO operations, this store
 is designed for robustness to the level that at no point is the store left
 in a unworkable (corrupt) state.
<P>

<P>
<DL>
<DT><B>版本：</B></DT>
  <DD>2003.07.29</DD>
<DT><B>作者：</B></DT>
  <DD>Tobias Downer, Rui Mao</DD>
</DL>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>方法摘要</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../mobios/mckoi/store/AbstractStore.html#alloc(long)">alloc</A></B>(long&nbsp;size)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Allocates a block of memory out of the store of the specified size, and
 returns a pointer to the block.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../mobios/mckoi/store/AbstractStore.html#close()">close</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Closes the store.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.ArrayList</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../mobios/mckoi/store/AbstractStore.html#findAllocatedAreasNotIn(java.util.ArrayList)">findAllocatedAreasNotIn</A></B>(java.util.ArrayList&nbsp;list)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Scans the area list, and any areas that aren't deleted and aren't found
 in the given ArrayList are returned as leaked areas.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../mobios/mckoi/store/AbstractStore.html#free(long)">free</A></B>(long&nbsp;pointer)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Frees a block of memory from the store that was previously allocated via
 'alloc'.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../mobios/mckoi/store/AbstractStore.html#getAllAreas()">getAllAreas</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a List of Long objects that contain a complete list of all areas
 in the store.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../mobios/mckoi/store/Area.html" title="mobios.mckoi.store 中的接口">Area</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../mobios/mckoi/store/AbstractStore.html#getArea(long)">getArea</A></B>(long&nbsp;pointer)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns an Area object that can be used to manipulate an area allocated
 from the store.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../mobios/mckoi/store/Area.html" title="mobios.mckoi.store 中的接口">Area</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../mobios/mckoi/store/AbstractStore.html#getFixedArea()">getFixedArea</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns an Area object that represents the 64 byte fixed area as can be
 changed by the 'getFixedArea' and 'setFixedArea' methods.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../mobios/mckoi/store/AbstractStore.html#getFixedArea(byte[], int, int)">getFixedArea</A></B>(byte[]&nbsp;buf,
             int&nbsp;off,
             int&nbsp;len)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.io.InputStream</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../mobios/mckoi/store/AbstractStore.html#getInputStream(long)">getInputStream</A></B>(long&nbsp;pointer)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns an InputStream for reading from the area of the store allocated
 via the 'alloc' method.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.io.OutputStream</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../mobios/mckoi/store/AbstractStore.html#getOutputStream(long)">getOutputStream</A></B>(long&nbsp;pointer)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns an OutputStream for writing to the area of the store allocated
 via the 'alloc' method.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Iterator</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../mobios/mckoi/store/AbstractStore.html#iterator()">iterator</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../mobios/mckoi/store/AbstractStore.html#lastCloseClean()">lastCloseClean</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if the store was closed cleanly.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../mobios/mckoi/store/AbstractStore.html#open()">open</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Opens the data store.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../mobios/mckoi/store/AbstractStore.html#openScanAndFix(mobios.mckoi.util.UserTerminal)">openScanAndFix</A></B>(<A HREF="../../../mobios/mckoi/util/UserTerminal.html" title="mobios.mckoi.util 中的接口">UserTerminal</A>&nbsp;terminal)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Opens/scans the store looking for any errors with the layout.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../mobios/mckoi/store/AbstractStore.html#setFixedArea(byte[], int, int)">setFixedArea</A></B>(byte[]&nbsp;buf,
             int&nbsp;off,
             int&nbsp;len)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../mobios/mckoi/store/AbstractStore.html#statsScan(java.util.HashMap)">statsScan</A></B>(java.util.HashMap&nbsp;properties)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Performs an extensive lookup on all the tables in this store and sets a
 number of properties in the given HashMap
 (property name(String) -> property description(Object)).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../mobios/mckoi/store/AbstractStore.html#totalAllocatedSinceStart()">totalAllocatedSinceStart</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the total allocated space since the file was openned.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>从类 java.lang.Object 继承的方法</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_mobios.mckoi.store.Store"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>从接口 mobios.mckoi.store.<A HREF="../../../mobios/mckoi/store/Store.html" title="mobios.mckoi.store 中的接口">Store</A> 继承的方法</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../mobios/mckoi/store/Store.html#flush()">flush</A>, <A HREF="../../../mobios/mckoi/store/Store.html#synch()">synch</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>方法详细信息</B></FONT></TH>
</TR>
</TABLE>

<A NAME="open()"><!-- --></A><H3>
open</H3>
<PRE>
public boolean <B>open</B>()
             throws java.io.IOException</PRE>
<DL>
<DD>Opens the data store.  Returns true if the store did not close cleanly.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>抛出：</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="close()"><!-- --></A><H3>
close</H3>
<PRE>
public void <B>close</B>()
           throws java.io.IOException</PRE>
<DL>
<DD>Closes the store.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>抛出：</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="openScanAndFix(mobios.mckoi.util.UserTerminal)"><!-- --></A><H3>
openScanAndFix</H3>
<PRE>
public void <B>openScanAndFix</B>(<A HREF="../../../mobios/mckoi/util/UserTerminal.html" title="mobios.mckoi.util 中的接口">UserTerminal</A>&nbsp;terminal)
                    throws java.io.IOException</PRE>
<DL>
<DD>Opens/scans the store looking for any errors with the layout.  If a
 problem with the store is detected, it attempts to fix it.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>抛出：</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="statsScan(java.util.HashMap)"><!-- --></A><H3>
statsScan</H3>
<PRE>
public void <B>statsScan</B>(java.util.HashMap&nbsp;properties)
               throws java.io.IOException</PRE>
<DL>
<DD>Performs an extensive lookup on all the tables in this store and sets a
 number of properties in the given HashMap
 (property name(String) -> property description(Object)).  This should be
 used for store diagnostics.
 <p>
 Assume the store is open.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>抛出：</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getAllAreas()"><!-- --></A><H3>
getAllAreas</H3>
<PRE>
public java.util.List <B>getAllAreas</B>()
                           throws java.io.IOException</PRE>
<DL>
<DD>Returns a List of Long objects that contain a complete list of all areas
 in the store.  This is useful for checking if a given pointer is valid
 or not.  The returned list is sorted from start area to end area.
<P>
<DD><DL>
<DT><B>指定者：</B><DD>接口 <CODE><A HREF="../../../mobios/mckoi/store/Store.html" title="mobios.mckoi.store 中的接口">Store</A></CODE> 中的 <CODE><A HREF="../../../mobios/mckoi/store/Store.html#getAllAreas()">getAllAreas</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>抛出：</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="findAllocatedAreasNotIn(java.util.ArrayList)"><!-- --></A><H3>
findAllocatedAreasNotIn</H3>
<PRE>
public java.util.ArrayList <B>findAllocatedAreasNotIn</B>(java.util.ArrayList&nbsp;list)
                                            throws java.io.IOException</PRE>
<DL>
<DD>Scans the area list, and any areas that aren't deleted and aren't found
 in the given ArrayList are returned as leaked areas.  This is a useful
 method for finding any leaks in the store.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>抛出：</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="totalAllocatedSinceStart()"><!-- --></A><H3>
totalAllocatedSinceStart</H3>
<PRE>
public long <B>totalAllocatedSinceStart</B>()</PRE>
<DL>
<DD>Returns the total allocated space since the file was openned.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="alloc(long)"><!-- --></A><H3>
alloc</H3>
<PRE>
public long <B>alloc</B>(long&nbsp;size)
           throws java.io.IOException</PRE>
<DL>
<DD><B>从接口 <CODE><A HREF="../../../mobios/mckoi/store/Store.html#alloc(long)">Store</A></CODE> 复制的描述</B></DD>
<DD>Allocates a block of memory out of the store of the specified size, and
 returns a pointer to the block.  If the store can not allocate an area of
 memory large enough for the request, a StoreException exception is thrown.
 This also throws a StoreException if the backing store is read-only.
<P>
<DD><DL>
<DT><B>指定者：</B><DD>接口 <CODE><A HREF="../../../mobios/mckoi/store/Store.html" title="mobios.mckoi.store 中的接口">Store</A></CODE> 中的 <CODE><A HREF="../../../mobios/mckoi/store/Store.html#alloc(long)">alloc</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>参数：</B><DD><CODE>size</CODE> - the amount of memory to allocate.
<DT><B>返回：</B><DD>a 64-bit pointer to the allocated memory.
<DT><B>抛出：</B>
<DD><CODE>java.io.IOException</CODE> - is the allocation can not happen.</DL>
</DD>
</DL>
<HR>

<A NAME="free(long)"><!-- --></A><H3>
free</H3>
<PRE>
public void <B>free</B>(long&nbsp;pointer)
          throws java.io.IOException</PRE>
<DL>
<DD><B>从接口 <CODE><A HREF="../../../mobios/mckoi/store/Store.html#free(long)">Store</A></CODE> 复制的描述</B></DD>
<DD>Frees a block of memory from the store that was previously allocated via
 'alloc'.  Freeing an invalid pointer is implementation defined, however the
 ideal behaviour is for a StoreException to be thrown.
<P>
<DD><DL>
<DT><B>指定者：</B><DD>接口 <CODE><A HREF="../../../mobios/mckoi/store/Store.html" title="mobios.mckoi.store 中的接口">Store</A></CODE> 中的 <CODE><A HREF="../../../mobios/mckoi/store/Store.html#free(long)">free</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>参数：</B><DD><CODE>pointer</CODE> - a 64-bit pointer to the memory to free.
<DT><B>抛出：</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="setFixedArea(byte[], int, int)"><!-- --></A><H3>
setFixedArea</H3>
<PRE>
public void <B>setFixedArea</B>(byte[]&nbsp;buf,
                         int&nbsp;off,
                         int&nbsp;len)
                  throws java.io.IOException</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>抛出：</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getFixedArea(byte[], int, int)"><!-- --></A><H3>
getFixedArea</H3>
<PRE>
public void <B>getFixedArea</B>(byte[]&nbsp;buf,
                         int&nbsp;off,
                         int&nbsp;len)
                  throws java.io.IOException</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>抛出：</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getFixedArea()"><!-- --></A><H3>
getFixedArea</H3>
<PRE>
public <A HREF="../../../mobios/mckoi/store/Area.html" title="mobios.mckoi.store 中的接口">Area</A> <B>getFixedArea</B>()
                  throws java.io.IOException</PRE>
<DL>
<DD><B>从接口 <CODE><A HREF="../../../mobios/mckoi/store/Store.html#getFixedArea()">Store</A></CODE> 复制的描述</B></DD>
<DD>Returns an Area object that represents the 64 byte fixed area as can be
 changed by the 'getFixedArea' and 'setFixedArea' methods.
<P>
<DD><DL>
<DT><B>指定者：</B><DD>接口 <CODE><A HREF="../../../mobios/mckoi/store/Store.html" title="mobios.mckoi.store 中的接口">Store</A></CODE> 中的 <CODE><A HREF="../../../mobios/mckoi/store/Store.html#getFixedArea()">getFixedArea</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>抛出：</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getInputStream(long)"><!-- --></A><H3>
getInputStream</H3>
<PRE>
public java.io.InputStream <B>getInputStream</B>(long&nbsp;pointer)
                                   throws java.io.IOException</PRE>
<DL>
<DD><B>从接口 <CODE><A HREF="../../../mobios/mckoi/store/Store.html#getInputStream(long)">Store</A></CODE> 复制的描述</B></DD>
<DD>Returns an InputStream for reading from the area of the store allocated
 via the 'alloc' method.  Trying to read from an invalid pointer is
 implementation defined, however the ideal behaviour is for a StoreException
 to be thrown.
 <p>
 The returned stream does not perform buffering.  For efficiency, it is a
 good idea to wrap the returned steam with a BufferedInputStream.
<P>
<DD><DL>
<DT><B>指定者：</B><DD>接口 <CODE><A HREF="../../../mobios/mckoi/store/Store.html" title="mobios.mckoi.store 中的接口">Store</A></CODE> 中的 <CODE><A HREF="../../../mobios/mckoi/store/Store.html#getInputStream(long)">getInputStream</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>参数：</B><DD><CODE>pointer</CODE> - a 64-bit pointer to the memory to read.
<DT><B>返回：</B><DD>an InputStream for reading from the allocated resource.
<DT><B>抛出：</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getOutputStream(long)"><!-- --></A><H3>
getOutputStream</H3>
<PRE>
public java.io.OutputStream <B>getOutputStream</B>(long&nbsp;pointer)
                                     throws java.io.IOException</PRE>
<DL>
<DD><B>从接口 <CODE><A HREF="../../../mobios/mckoi/store/Store.html#getOutputStream(long)">Store</A></CODE> 复制的描述</B></DD>
<DD>Returns an OutputStream for writing to the area of the store allocated
 via the 'alloc' method.  Trying to write to an invalid pointer is
 implementation defined, however the ideal behaviour is for a StoreException
 to be thrown.  This also throws a StoreException if the backing store is
 read-only.
 <p>
 The returned stream does not perform buffering.  For efficiency, it is a
 good idea to wrap the returned steam with a BufferedOutputStream.
<P>
<DD><DL>
<DT><B>指定者：</B><DD>接口 <CODE><A HREF="../../../mobios/mckoi/store/Store.html" title="mobios.mckoi.store 中的接口">Store</A></CODE> 中的 <CODE><A HREF="../../../mobios/mckoi/store/Store.html#getOutputStream(long)">getOutputStream</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>参数：</B><DD><CODE>pointer</CODE> - a 64-bit pointer to the memory to write.
<DT><B>返回：</B><DD>an OutputStream for writing to the allocated resource.
<DT><B>抛出：</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getArea(long)"><!-- --></A><H3>
getArea</H3>
<PRE>
public <A HREF="../../../mobios/mckoi/store/Area.html" title="mobios.mckoi.store 中的接口">Area</A> <B>getArea</B>(long&nbsp;pointer)
             throws java.io.IOException</PRE>
<DL>
<DD><B>从接口 <CODE><A HREF="../../../mobios/mckoi/store/Store.html#getArea(long)">Store</A></CODE> 复制的描述</B></DD>
<DD>Returns an Area object that can be used to manipulate an area allocated
 from the store.  The returned Area performs buffering.
<P>
<DD><DL>
<DT><B>指定者：</B><DD>接口 <CODE><A HREF="../../../mobios/mckoi/store/Store.html" title="mobios.mckoi.store 中的接口">Store</A></CODE> 中的 <CODE><A HREF="../../../mobios/mckoi/store/Store.html#getArea(long)">getArea</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>参数：</B><DD><CODE>pointer</CODE> - a 64-bit pointer to the area (allocated via 'alloc').
<DT><B>返回：</B><DD>an Area object for manipulating the area.
<DT><B>抛出：</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="lastCloseClean()"><!-- --></A><H3>
lastCloseClean</H3>
<PRE>
public boolean <B>lastCloseClean</B>()</PRE>
<DL>
<DD><B>从接口 <CODE><A HREF="../../../mobios/mckoi/store/Store.html#lastCloseClean()">Store</A></CODE> 复制的描述</B></DD>
<DD>Returns true if the store was closed cleanly.  This is important
 information that may need to be considered when reading information from
 the store.  This is typically used to issue a scan on the data in the
 store when it is not closed cleanly.
<P>
<DD><DL>
<DT><B>指定者：</B><DD>接口 <CODE><A HREF="../../../mobios/mckoi/store/Store.html" title="mobios.mckoi.store 中的接口">Store</A></CODE> 中的 <CODE><A HREF="../../../mobios/mckoi/store/Store.html#lastCloseClean()">lastCloseClean</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="iterator()"><!-- --></A><H3>
iterator</H3>
<PRE>
public java.util.Iterator <B>iterator</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="跳过导航链接"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>概述</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>软件包</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>类</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/AbstractStore.html"><FONT CLASS="NavBarFont1"><B>使用</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>树</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>已过时</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>索引</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>帮助</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;上一个类&nbsp;
&nbsp;<A HREF="../../../mobios/mckoi/store/Area.html" title="mobios.mckoi.store 中的接口"><B>下一个类</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?mobios/mckoi/store/AbstractStore.html" target="_top"><B>框架</B></A>  &nbsp;
&nbsp;<A HREF="AbstractStore.html" target="_top"><B>无框架</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>所有类</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>所有类</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  摘要：&nbsp;嵌套&nbsp;|&nbsp;字段&nbsp;|&nbsp;构造方法&nbsp;|&nbsp;<A HREF="#method_summary">方法</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
详细信息：&nbsp;字段&nbsp;|&nbsp;构造方法&nbsp;|&nbsp;<A HREF="#method_detail">方法</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
